<!DOCTYPE html><html>
<head>
<meta charset="utf-8">
<title>cs1.6 amxx编程 sizeof临时教程 -- 作者:偶萤蛉(Oinling)</title>
<style>
	code {
		white-space: pre;
		color: rgb(0,0,255);
		background-color: #f1f1f1;
		font-family: Consolas, monospace;
		font-weight: bold;
	}
	.amxx-note {
		color: rgb(0,0,0);
		font-weight: normal;
	}
	.amxx-comment {
		color: rgb(63,159,63);
		font-weight: normal;
	}
	.amxx-directive {
		color: rgb(111,111,107);
		font-weight: normal;
	}
	.amxx-di {
		background: linear-gradient(to right, rgb(111,111,107), rgb(153,51,255));
		-webkit-background-clip: text;
		color: transparent;
		font-weight: normal;
	}
	.amxx-string {
		color: rgb(193,61,41);
		font-weight: normal;
	}
	.amxx-number {
		color: rgb(0,0,0);
		font-weight: normal;
	}
	.amxx-enumname {
		background: linear-gradient(to right, rgb(93,20,10), rgb(153,51,255));
		-webkit-background-clip: text;
		color: transparent;
	}
	.amxx-function {
		color: rgb(113,31,195);
		font-weight: bold;
	}
	.amxx-tag {
		color: rgb(93,20,10);
		font-weight: normal;
	}
	.amxx-symbol {
		color: rgb(153,51,255);
		font-weight: normal;
	}
</style>
</head>
<body>

<code>cs1.6 amxx编程 sizeof临时教程 -- 作者:偶萤蛉(Oinling)

sizeof可以用于获取数组变量的尺寸.

假如声明三维数组:
static a[2][3][4];

那么a是三维数组,内里存有2个2维数组,每个2维数组内里存有3个1维数组,每个1维数组内里存有4个单值.

sizeof(a)表示获取三维数组的尺寸,将得到2.

sizeof(a[])表示获取二维数组的尺寸,得到3.

sizeof(a[][])表示获取一维数组的尺寸,得到4.

sizeof(a[][][])表示获取单值的尺寸,得到1.

对单值获取尺寸,永远只能得到1.

编译时会将得到的值转变为字面量,因此运行时不会重复计算,它的效率与无地址常量是一样的.

可以看到,sizeof得到的值与开发者设定的尺寸是一样的,所以实际上可以直接填数值.

但填写sizeof更易读,使查阅源码的人可以知道这里填写的是某个数组的尺寸,而不是一些意义不明的数字.

使用例子:
static Function(const text[64])
{
	return sizeof(text) - 1;
}

</code>

</body>
</html>